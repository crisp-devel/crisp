cmake_minimum_required(VERSION 3.10)
project               (crisp-all)

set                   (C_STANDARD 11)
include_directories   (${CMAKE_SOURCE_DIR})

if(UNIX AND NOT APPLE)
    option                 (CRISP_PRESET_LINUX ON)
    add_compile_definitions(CRISP_PRESET_LINUX)
    add_compile_definitions(CRISP_PRESET_ARCH_X86_64)
elseif(WIN32)
    option                 (CRISP_PRESET_WIN32 ON)
    add_compile_definitions(CRISP_PRESET_WIN32)
    add_compile_definitions(CRISP_PRESET_ARCH_X86_64)
endif ()

if(CRISP_PRESET_LINUX)
    add_subdirectory(crisp-build/linux)
    add_subdirectory(crisp-tests)
elseif(CRISP_PRESET_WIN32)
    add_subdirectory(crisp-build/win32)
    add_subdirectory(crisp-tests)
endif()